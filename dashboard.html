<!DOCTYPE html>
<html>
<head>
    <title>Journal Search - Sistema de Busca Cient√≠fica</title>
    <link rel="stylesheet" href="./lib/choices/choices.min.css">
    <link rel="stylesheet" href="./style.css?v=2">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <img src="./logo.png" alt="Logo" class="header-logo">
            <h1 class="header-title">Dashboard de Revistas M√©dicas</h1>
        </div>
    </header>
    <div id="dashboard">
        <div id="journal-management">
            <h2>Configura√ß√£o da Busca</h2>
            <label for="journal-selector">Selecionar Revistas:</label>
            <select id="journal-selector" multiple>
            </select>
            <br>

            <label for="start-date">Data Inicial:</label>
            <input type="date" id="start-date">

            <label for="end-date">Data Final:</label>
            <input type="date" id="end-date">
            <br>

            <div class="date-buttons-group">
                <div class="recent-periods">
                    <button id="last-6-months">6 Meses</button>
                    <button id="last-1-year">1 Ano</button>
                    <button id="last-18-months">18 Meses</button>
                    <button id="last-2-years">2 Anos</button>
                </div>
                <div class="year-ranges">
                    <button id="range-2022-2024">2022-2024</button>
                    <button id="range-2019-2021">2019-2021</button>
                    <button id="range-2016-2018">2016-2018</button>
                    <button id="range-2013-2015">2013-2015</button>
                    <button id="range-2010-2012">2010-2012</button>
                </div>
            </div>
            <br>

            <label for="author">Autor:</label>
            <input type="text" id="author" placeholder="Nome do autor">
            <br>

            <label for="keywords">Palavras-chave:</label>
            <input type="text" id="keywords" placeholder="Separar por v√≠rgula">
            <br>

            <div class="checkbox-container">
                <label for="open-access-only" class="checkbox-label">Apenas artigos Open Access</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="open-access-only" name="open-access-only">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="button-group">
                <button id="search-button">Pesquisar</button>
                <button id="clear-search-button" style="background: linear-gradient(135deg, #e74c3c, #ec7063) !important;">Limpar Par√¢metros</button>
            </div>
        </div>
        
        <div id="search-results">
            <h2>Resultados da Busca</h2>
            <div id="loading" style="display: none;">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <div class="loading-message">
                        <span id="loading-message-text">Buscando no PubMed...</span>
                    </div>
                </div>
            </div>
            
            <div id="results-info" style="display: none;">
                <p>Total de artigos encontrados: <span id="total-count">0</span></p>
                <div id="search-summary" class="search-summary-class"></div>
            </div>
            
            <div id="table-controls" style="display: none;">
                <div class="filter-controls">
                    <input type="text" id="search-filter" placeholder="Filtrar resultados...">
                    <select id="column-filter">
                        <option value="">Todas as colunas</option>
                        <option value="TITULO DA PUBLICACAO">T√≠tulo</option>
                        <option value="AUTORES">Autores</option>
                        <option value="REVISTA">Revista</option>
                        <option value="DATA DE PUBLICACAO">Data</option>
                        <option value="OPEN ACESS">Open Access</option>
                    </select>
                    <button id="clear-filters">Limpar Filtros</button>
                </div>
                
                <div class="export-controls">
                    <button id="export-html-button">Exportar HTML</button>
                    <button id="fullscreen-button">Tela Cheia</button>
                </div>
            </div>
            
            <div id="message-container" class="message-container" style="display: none;"></div>
            <div id="table-container">
                <table id="results-table">
                    <thead>
                        <tr>
                            <th data-column="DATA DE PUBLICACAO" class="sortable col-date">Data <span class="sort-arrow"></span></th>
                            <th data-column="TITULO DA PUBLICACAO" class="sortable col-title">T√≠tulo <span class="sort-arrow"></span></th>
                            <th data-column="REVISTA" class="sortable col-journal">Revista <span class="sort-arrow"></span></th>
                            <th data-column="AUTORES" class="sortable col-authors">Autores <span class="sort-arrow"></span></th>
                            <th data-column="LINK CANONICO" class="col-link">Link</th>
                            <th data-column="OPEN ACESS" class="sortable col-access">Open Access <span class="sort-arrow"></span></th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div id="pagination-container" class="pagination-container"></div>
        </div>
    </div>
    <footer class="main-footer-credits">
        <p><span class="footer-icon">üî¨</span>Website desenvolvido pelo m√©dico radiologista Jo√£o Victor Pruner Vieira (CRM/PR 30289). Todos os direitos reservados.</p>
        <div id="visitor-counter">
            <img src="https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fjoaovictorpv.github.io%2FDashboard%2Fexperimento%2F&label=Visitantes&countColor=%2364FFDA&style=flat" alt="Visitor Counter"/>
        </div>
    </footer>

    <!-- Modal de Tela Cheia -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <button id="modal-close-button" class="modal-close-button">&times;</button>
            <div id="modal-table-container">
                <!-- A tabela ser√° renderizada aqui via JS -->
            </div>
        </div>
    </div>

<script src="./lib/choices/choices.min.js"></script>
<script src="./dashboard.js?v=2"></script>
</body>
</html>
